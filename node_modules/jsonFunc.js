module.exports = function(jsons, workIs, nameJSON, keyName, date) {
	var obj = {};
	switch(nameJSON) {
		case "players": obj = jsons[0]; break;
		case "guild": obj = jsons[1]; break;
		case "items": obj = jsons[2]; break;
	}

	if(workIs == "create") {
		switch(nameJSON) {
			case "players": obj[keyName] = {"money": 0, "guild": message.guild.name, "name": message.author.username, "hp": 50, "xp": 0, "lvl": 1, "mana": 10, "defence": "no", "crutch": "crutch"}; break;
			case "guild": obj[keyName] = {"money": 0, "own": message.guild.owner.user.username+"#"+message.guild.owner.user.discriminator, "hp": 500, "xp": 0, "lvl": 1, "defence": 0, "crutch": "crutch"}; break;
			case "items": obj[keyName] = ["меч(дерево, дерево, дерево)"]; break;
		}
	} else if(workIs == "edit") {
		switch(nameJSON) {
			case "players": playersJSON(); break;
			case "guild": guildJSON(); break;
			case "items": itemsJSON(); break;
		}

		function playersJSON() {
			for(var i = 0; i < date.length; i++) {
				if(date[i] == "-") {
					switch(i) {
						case 0: date[0] = 0; break;
						case 1: date[1] = jsons[0][keyName].guild; break;
						case 2: date[2] = jsons[0][keyName].name; break;
						case 3: date[3] = 0; break;
						case 4: date[4] = 0; break;
						case 5: date[5] = 0; break;
						case 6: date[6] = 0; break;
						case 7: date[7] = jsons[0][keyName].defence; break;
					}
				}
			}
			obj[keyName] = {"money": Number(obj[keyName].money)+date[0], "guild": date[1], "name": date[2], "hp": Number(obj[keyName].hp)+date[3], "xp": Number(obj[keyName].xp)+date[4], "lvl": Number(obj[keyName].lvl)+date[5], "mana": Number(obj[keyName].mana)+date[6], "defence": date[7], "crutch": "crutch"};
		}
		function guildJSON() {
			for(var i = 0; i < date.length; i++) {
				if(date[i] == "-") {
					switch(i) {
						case 0: date[0] = 0; break;
						case 1: date[1] = jsons[1][keyName].own; break;
						case 2: date[2] = 0; break;
						case 3: date[3] = 0; break;
						case 4: date[4] = 0; break;
						case 5: date[5] = 0; break;
					}
				}
			}
			obj[keyName] = {"money": Number(obj[keyName].money)+date[0], "own": date[1], "hp": Number(obj[keyName].hp)+date[2], "xp": Number(obj[keyName].xp)+date[3], "lvl": Number(obj[keyName].lvl)+date[4], "defence": Number(obj[keyName].defence)+date[5], "crutch": "crutch"};
		}
		function itemsJSON() {
			if(date[0] == "delete") {
				obj[keyName].splice(obj[keyName].indexOf(date[1]), 1);
			} else {
				obj[keyName].push(date[1]);
			}
		}
	}

	fs.writeFile("jsonFiles/"+nameJSON+".json", JSON.stringify(obj), function(err) {
	    if(err) throw err;
	    	console.log("Ключ - "+keyName+">>"+nameJSON+" - Успешно!");
	    }
	);
}
